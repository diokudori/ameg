{"version":3,"sources":["./src/app/views/dmp-edit/dmp-edit.component.html","./src/app/views/dmp-edit/dmp-edit-routing.module.ts","./src/app/views/dmp-edit/dmp-edit.component.css","./src/app/views/dmp-edit/dmp-edit.component.ts","./src/app/views/dmp-edit/dmp-edit.module.ts"],"names":[],"mappings":"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","file":"views-dmp-edit-dmp-edit-module.js","sourcesContent":["export default \"<div class=\\\"animated fadeIn\\\">\\n<ngx-spinner bdColor = \\\"rgba(0, 0, 0, 0.8)\\\" size = \\\"medium\\\" color = \\\"#fff\\\" type = \\\"square-jelly-box\\\" [fullScreen] = \\\"true\\\"><p style=\\\"color: white\\\" > Sedang mengunggah file... </p></ngx-spinner>  \\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-md-12\\\">\\n      <div class=\\\"card\\\">\\n        <div class=\\\"card-header\\\">\\n          <strong>Basic Form</strong> Elements\\n        </div>\\n        <div class=\\\"card-body\\\">\\n           <div class=\\\"form-group row\\\">\\n              <label class=\\\"col-md-3 col-form-label\\\" for=\\\"date-input\\\">Tanggal rilis</label>\\n              <div class=\\\"col-md-9\\\">\\n                <input class=\\\"form-control\\\" [(ngModel)]=\\\"data.created_at\\\" id=\\\"date-input\\\" type=\\\"date\\\" name=\\\"date-input\\\" placeholder=\\\"date\\\">\\n                <span class=\\\"help-block\\\">{{data.created_at}}</span>\\n              </div>\\n            </div>\\n            <div class=\\\"form-group row\\\">\\n              <label class=\\\"col-md-3 col-form-label\\\" for=\\\"text-input\\\">Nama DMP</label>\\n              <div class=\\\"col-md-9\\\">\\n                <input [(ngModel)]=\\\"data.disway_name\\\" type=\\\"text\\\" id=\\\"text-input\\\" name=\\\"text-input\\\" class=\\\"form-control\\\">\\n              </div>\\n            </div>\\n            <div class=\\\"form-group row\\\">\\n              <label class=\\\"col-md-3 col-form-label\\\" for=\\\"email-input\\\">Judul DMP</label>\\n              <div class=\\\"col-md-9\\\">\\n                <input [(ngModel)]=\\\"data.disway_title\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"\\\">\\n              </div>\\n            </div>\\n            <div class=\\\"form-group row\\\">\\n              <label class=\\\"col-md-3 col-form-label\\\" for=\\\"file-input\\\">File Banner (JPG)</label>\\n              <div class=\\\"col-md-12\\\">\\n              \\t<img [src]=\\\"data.disway_banner\\\" style=\\\"width: 50%\\\">\\n              </div>\\n            </div>\\n            <ngx-dropzone (change)=\\\"onSelect($event, 'banner')\\\" [multiple]=\\\"false\\\">\\n\\t\\t\\t    <ngx-dropzone-label>Drop it, baby!</ngx-dropzone-label>\\n\\t\\t\\t    <ngx-dropzone-image-preview ngProjectAs=\\\"ngx-dropzone-preview\\\" *ngFor=\\\"let f of banner\\\" [file]=\\\"f\\\" [removable]=\\\"true\\\" (removed)=\\\"onRemove(f, 'banner')\\\">\\n\\t\\t\\t\\t</ngx-dropzone-image-preview>\\n\\t\\t\\t</ngx-dropzone>\\n            <div class=\\\"form-group row\\\">\\n              <label class=\\\"col-md-3 col-form-label\\\" for=\\\"file-input\\\">File DMP (PDF)</label>\\n              <div class=\\\"col-md-12\\\">\\n              \\t<a [href]=\\\"data.disway_file\\\" target=\\\"_blank\\\"><i class=\\\"cui-file icons font-2xl d-block mt-4\\\"></i> {{data.disway_file}}</a>\\n\\n              </div>\\n            </div>\\n          <ngx-dropzone (change)=\\\"onSelect($event, 'files')\\\" [multiple]=\\\"false\\\">\\n\\t\\t    <ngx-dropzone-label>Drop it, baby!</ngx-dropzone-label>\\n\\t\\t    <ngx-dropzone-preview *ngFor=\\\"let f of files\\\" [removable]=\\\"true\\\" (removed)=\\\"onRemove(f, 'files')\\\">\\n\\t\\t        <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>\\n\\t\\t    </ngx-dropzone-preview>\\n\\t\\t</ngx-dropzone>\\n\\t\\t<br>\\n\\t\\t\\t\\t<div role=\\\"alert\\\" class=\\\"alert alert-success\\\" *ngIf=\\\"isSuccessAlert\\\">\\n\\t\\t\\t\\t\\t<strong>Berhasil!</strong> Data telah tersimpan \\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div role=\\\"alert\\\" *ngIf=\\\"isDangerAlert\\\" class=\\\"alert alert-danger\\\">\\n\\t\\t\\t\\t\\t<strong>Gagal!</strong> data tidak tersimpan \\n\\t\\t\\t\\t</div>\\n        </div>\\n        <div class=\\\"card-footer\\\">\\n          <button type=\\\"submit\\\" class=\\\"btn btn-sm btn-primary\\\" (click)=\\\"saveDmp()\\\"><i class=\\\"fa fa-dot-circle-o\\\"></i> Submit</button>\\n        </div>\\n      </div>\\n    </div>\\n   \\n  </div><!--/.row-->\\n  \\n</div>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { DmpEditComponent } from './dmp-edit.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DmpEditComponent,\n    data: {\n      title: 'Daftar Disway Malang Post'\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DmpEditRoutingModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ZpZXdzL2RtcC1lZGl0L2RtcC1lZGl0LmNvbXBvbmVudC5jc3MifQ== */\";","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ApiService } from '../../api.service';\nimport { HttpClient, HttpEventType } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { NgxSpinnerService } from \"ngx-spinner\";\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-dmp-edit',\n  templateUrl: './dmp-edit.component.html',\n  styleUrls: ['./dmp-edit.component.css']\n})\nexport class DmpEditComponent implements OnInit {\ndisway_name: any = '';\n\tdisway_title: any = '';\n\tcreated_at: any = '';\n\tresp: any;\n\timage: any;\n\tisUploading = false;\n\tprogressPercent: number;\n\t@ViewChild('fileInput') fileInput;\n\tisSuccessAlert: any = false;\n\tisDangerAlert: any = false;\n\tdata: any = {};\n\tfailMsg: any = '';\n  constructor(\n  \tpublic api: ApiService,\n  \tpublic http: HttpClient,\n  \tpublic spinner: NgxSpinnerService,\n  \tpublic router: Router\n  \t) { \n\n  \tthis.data = this.router.getCurrentNavigation().extras.state.data;\n  \tconsole.log(this.data.created_at);\n  }\n\tbanner: File[] = [];\n\tfiles: File[] = [];\n\t itemBanner: File = null;\n\t itemFiles: File = null;\n\tonSelect(event, type) {\n\t\tif(type=='files'){\n\t\t\t// console.log(event);\n\t  \t\tthis.files.push(...event.addedFiles);\n\t  \t\tconsole.log(this.files);\n\t  \t\tthis.itemFiles = this.files[0];\n\t\t}\n\t\telse if(type=='banner'){\n\t\t\tconsole.log(event);\n\t  \t\tthis.banner.push(...event.addedFiles);\n\t  \t\tthis.itemBanner = this.banner[0];\n\t  \t\n\t\t}\n\t  \n\t}\n\t \n\tonRemove(event, type) {\n\t\tif(type=='files'){\n\t\t\tconsole.log(event);\n\t  \t\tthis.files.splice(this.files.indexOf(event), 1);\n\t\t}\n\t\telse if(type=='banner'){\n\t\t\tconsole.log(event);\n\t  \t\tthis.banner.splice(this.banner.indexOf(event), 1);\n\t\t}\n\t  \n\t}\n  ngOnInit(): void {\n  }\n\n  saveDmp(){\n  \tthis.spinner.show();\n  \tconst fd = new FormData();\n  \tfd.append('param', 'update');\n  \tfd.append('disway_id', this.data.disway_id);\n  \tfd.append('disway_title', this.data.disway_title);\n  \tfd.append('disway_name', this.data.disway_name);\n  \tfd.append('created_at', this.data.created_at);\n  \tfd.append('file[]', this.itemFiles);\n  \tfd.append('banner[]', this.itemBanner);\n\n\n    this.http.post(this.api.uploadUrl+'upload.php', fd)\n\t        .subscribe(res => {\n\t        this.spinner.hide();\n\t           console.log(res);\n\t           this.api.resp = res;\n\t           if(this.api.resp.status==true){\n\t           \tthis.isSuccessAlert = true;\n\t           \tthis.router.navigate(['/dmp-list']);\n\n\t\t\t\tsetTimeout(()=>{ \n\t\t\t\t    this.isSuccessAlert = false;\n\t\t\t\t }, 3000);\n\t\t\t\t}else{\n\t\t\t\t\tthis.isDangerAlert = true;\n\t\t\t\t\tthis.failMsg = this.api.resp.msg;\n\t\t\t\t\tsetTimeout(()=>{ \n\t\t\t\t\t    this.isDangerAlert = false;\n\t\t\t\t\t }, 3000);\n\t\t\t\t}\n\t           // alert('Uploaded Successfully.');\n\t        });\n  \t// this.api.provideDataForm(fd,'upload').subscribe((resp)=>{\n   //    this.resp = resp;\n   //    console.log(this.resp);\n      \n   //  });\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DmpEditRoutingModule } from './dmp-edit-routing.module';\nimport { DmpEditComponent } from './dmp-edit.component';\nimport { NgxDropzoneModule } from 'ngx-dropzone';\nimport { FormsModule } from '@angular/forms';\nimport { NgxSpinnerModule } from \"ngx-spinner\";\n\n@NgModule({\n  declarations: [DmpEditComponent],\n  imports: [\n    CommonModule,\n    DmpEditRoutingModule,\n    NgxDropzoneModule,\n    FormsModule,\n    NgxSpinnerModule\n  ]\n})\nexport class DmpEditModule { }\n"],"sourceRoot":"webpack:///"}